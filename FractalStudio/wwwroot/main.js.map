{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/logger.service.ts","webpack:///./src/app/m-map/m-map-common.ts","webpack:///./src/app/m-map/m-map-params/m-map-params.component.html","webpack:///./src/app/m-map/m-map-params/m-map-params.component.ts","webpack:///./src/app/m-map/m-map.display/m-map.display.component.html","webpack:///./src/app/m-map/m-map.display/m-map.display.component.ts","webpack:///./src/app/m-map/m-map.module.ts","webpack:///./src/app/m-map/m-map.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","\r\n<h2>Map Params Section</h2>\r\n<app-m-map-params></app-m-map-params>\r\n\r\n<h2>Map Output Section</h2>\r\n<!--<div style=\"width:105px; height:105px;\">\r\n  <app-m-map-display [canvas-width]=\"100\" [canvas-height]=\"100\"></app-m-map-display>\r\n  <app-m-map-display style=\"width:100px; height:100px; padding:3px; position:absolute\"></app-m-map-display>\r\n</div>-->\r\n\r\n\r\n  <div style=\"position:relative; width:700px; height:470px; padding:3px 3px 3px 3px; border: 2px solid black\">\r\n    <div style=\"position:relative; width:690px; height:460px; margin:5px\">\r\n      <app-m-map-display></app-m-map-display>\r\n    </div>\r\n  </div>\r\n\r\n<!--<app-m-map-display style=\"position:relative; width:110px; height:110px; \"></app-m-map-display>-->\r\n\r\n\r\n","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { Logger } from './logger.service';\r\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements AfterViewInit, OnInit {\r\n\n  private viewInitialized: boolean;\n\n  constructor(private logger: Logger) {\n\n    this.viewInitialized = false;\r\n  }\n\n  ngOnInit(): void {\r\n    console.log(\"We are inited.\");\r\n  }\n\r\n  ngOnChanges() {\r\n    if (!this.viewInitialized) return;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (!this.viewInitialized) {\r\n      this.viewInitialized = true;\r\n      console.log(\"About to draw from AfterViewInit.\");\r\n    }\r\n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n//import { SampleModule } from '../fractalMapLib';\n\nimport { AppComponent } from './app.component';\nimport { Logger } from './logger.service';\n\nimport { MMapModule } from './m-map/m-map.module';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    MMapModule\n  ],\n  declarations: [\n    AppComponent\n  ],\n  providers: [Logger],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from \"@angular/core\";\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class Logger {\r\n  log(msg: any) { console.log(msg); }\r\n  error(msg: any) { console.error(msg); }\r\n  warn(msg: any) { console.warn(msg); }\r\n}\r\n","\r\nconst MAX_CANVAS_WIDTH: number = 5000;\r\nconst MAX_CANVAS_HEIGHT: number = 5000;\r\n\r\nexport interface IPoint {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface IMapInfo {\r\n  bottomLeft: IPoint;\r\n  topRight: IPoint;\r\n  maxInterations: number;\r\n}\r\n\r\nexport interface ICanvasSize {\r\n  width: number;\r\n  height: number\r\n}\r\n\r\nexport interface IMapWorkingData {\r\n  canvasSize: ICanvasSize;\r\n  mapInfo: IMapInfo;\r\n\r\n  elementCount: number;\r\n\r\n  // Current z values\r\n  wAData: Float64Array; // Stores the current A (or real component.)\r\n  wBData: Float64Array; // Stores the current B (or complex component.)\r\n\r\n  // The number of times each point has been iterated.\r\n  cnts: Uint16Array;\r\n\r\n  // Flag for each point. If set then the point has grown more than 2.\r\n  flags: Uint8Array;\r\n\r\n  //getLinearIndex(x: number, y: number): number;\r\n  getLinearIndex(c: IPoint): number;\r\n  doInterationsForAll(iterCount: number): boolean;\r\n  doInterationsForLine(iterCount: number, y: number): boolean;\r\n\r\n  getImageData(): ImageData;\r\n  getImageDataForLine(y: number): ImageData;\r\n\r\n  updateImageData(imageData: ImageData): void;\r\n  updateImageDataForLine(imageData: ImageData, y: number): void;\r\n}\r\n\r\nexport class Point implements IPoint {\r\n  constructor(public x: number, public y: number) { }\r\n}\r\n\r\nexport class MapInfo implements IMapInfo {\r\n  constructor(public bottomLeft: IPoint, public topRight: IPoint, public maxInterations: number) {\r\n  }\r\n}\r\n\r\nexport class CanvasSize implements ICanvasSize {\r\n\r\n  constructor(public width: number, public height: number) {\r\n    if (!this.isReasonableExtent(this.width, MAX_CANVAS_WIDTH)) {\r\n      alert('Width is invalid');\r\n    }\r\n    if (!this.isReasonableExtent(this.height, MAX_CANVAS_HEIGHT)) {\r\n      alert('Height is invalid');\r\n    }\r\n  }\r\n\r\n  isReasonableExtent(nVal:number, max:number): boolean {\r\n    return isFinite(nVal) && nVal > 0 && nVal <= max && Math.floor(nVal) === nVal;\r\n  }\r\n}\r\n\r\nexport class MapWorkingData {\r\n\r\n  public elementCount: number;\r\n\r\n  // Current z values\r\n  public wAData: Float64Array; // Stores the current A (or real component.)\r\n  public wBData: Float64Array; // Stores the current B (or complex component.)\r\n\r\n  // The number of times each point has been iterated.\r\n  public cnts: Uint16Array;\r\n\r\n  // Flag for each point. If set then the point has grown more than 2.\r\n  public flags: Uint8Array;\r\n\r\n  public xVals: number[];\r\n  public yVals: number[];\r\n\r\n  //public alive: boolean = true;\r\n\r\n  constructor(public canvasSize: ICanvasSize, public mapInfo: IMapInfo) {\r\n\r\n    this.elementCount = this.getNumberOfElementsForCanvas(this.canvasSize);\r\n\r\n    this.wAData = new Float64Array(this.elementCount); // All elements now have a value of zero.\r\n    this.wBData = new Float64Array(this.elementCount); // All elements now have a value of zero.\r\n\r\n    this.cnts = new Uint16Array(this.elementCount);\r\n    this.flags = new Uint8Array(this.elementCount);\r\n\r\n    // X coordinates get larger as one moves from the left of the map to  the right.\r\n    this.xVals = this.buildVals(this.canvasSize.width, this.mapInfo.bottomLeft.x, this.mapInfo.topRight.x);\r\n\r\n    // Y coordinates get larger as one moves from the bottom of the map to the top.\r\n    this.yVals = this.buildVals(this.canvasSize.height, this.mapInfo.bottomLeft.y, this.mapInfo.topRight.y);\r\n\r\n    // Assume that this map will contain at least on point in the set, until proven otherwise.\r\n    //this.alive = true;\r\n  }\r\n\r\n  // Calculate the number of elements in our single dimension data array needed to cover the\r\n  // two-dimensional map.\r\n  private getNumberOfElementsForCanvas(cs: ICanvasSize): number {\r\n    return cs.width * cs.height;\r\n  }\r\n\r\n  // Build the array of 'c' values for one dimension of the map.\r\n  private buildVals(canvasExtent: number, start: number, end: number): number[] {\r\n    let result: number[] = new Array<number>(canvasExtent);\r\n\r\n    let mapExtent: number = end - start;\r\n    let unitExtent: number = mapExtent / canvasExtent;\r\n\r\n    var i: number;\r\n    for (i = 0; i < canvasExtent; i++) {\r\n      result[i] = start + i * unitExtent;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  //public getLinearIndex(x:number, y:number): number {\r\n  //  return x + y * this.canvasSize.width;\r\n  //}\r\n\r\n  // Returns the index to use when accessing wAData, wBData, cnts or flags.\r\n  public getLinearIndex(c:IPoint): number {\r\n    return c.x + c.y * this.canvasSize.width;\r\n  }\r\n\r\n  // Calculates z squared + c\r\n  getNextVal(z: IPoint, c: IPoint): IPoint {\r\n    const result: IPoint = new Point(\r\n      z.x * z.x - z.y * z.y + c.x,\r\n      2 * z.x * z.y + c.y\r\n    );\r\n\r\n    return result;\r\n  }\r\n\r\n  // Returns the square of the magnitude of a complex number where a is the real component and b is the complex component.\r\n  private getAbsSizeSquared(z: IPoint): number {\r\n    const result:number = z.x * z.x + z.y * z.y;\r\n    return result;\r\n  }\r\n\r\n  // Takes the current value of z for a given coordinate,\r\n  // calculates the next value\r\n  // and updates the current value with this next value.\r\n  // If the 'done' flag is set, no update is made.\r\n  //\r\n  // If the magnitude of the new value is greater than 2 (the square of the magnitude > 4) then it sets the 'done' flag\r\n  // Returns the (new) value of the 'done' flag for this coordinate.\r\n  private iterateElement(mapCoordinate:IPoint, iterCount:number): boolean {\r\n    const ptr = this.getLinearIndex(mapCoordinate);\r\n\r\n    if (this.flags[ptr] === 1) {\r\n      // This point has been flagged, don't iterate.\r\n      return true;\r\n    }\r\n\r\n    let z:IPoint = new Point(this.wAData[ptr], this.wBData[ptr]);\r\n    const c: IPoint = new Point(this.xVals[mapCoordinate.x], this.yVals[mapCoordinate.y]);\r\n\r\n    let cntr: number;\r\n\r\n    for (cntr = 0; cntr < iterCount; cntr++) {\r\n      z = this.getNextVal(z, c);\r\n\r\n      if (this.getAbsSizeSquared(z) > 4) {\r\n        // This point is done.\r\n        this.flags[ptr] = 1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Store the new value back to our Working Data.\r\n    this.wAData[ptr] = z.x;\r\n    this.wBData[ptr] = z.y;\r\n\r\n    // Increment the number of times this point has been iterated.\r\n    this.cnts[ptr] = this.cnts[ptr] + cntr;\r\n\r\n    return this.flags[ptr] === 1;\r\n\r\n    //const aSize = this.getAbsSizeSquared(z);\r\n\r\n    //// Increment the number of times this point has been iterated.\r\n    //this.cnts[ptr] = this.cnts[ptr] + iterCount;\r\n\r\n    //if (aSize > 4) {\r\n    //  // This point is done.\r\n    //  this.flags[ptr] = 1;\r\n    //  return true;\r\n    //}\r\n    //else {\r\n    //  // This point is still 'alive'.\r\n    //  return false;\r\n    //}\r\n  }\r\n\r\n  // Updates each element for a given line by performing a single interation.\r\n  // Returns true if at least one point is not done.\r\n  public doInterationsForLine(iterCount: number, y: number): boolean {\r\n\r\n    let stillAlive: boolean = false; // Assume all done until one is found that is not done.\r\n\r\n    let x: number;\r\n\r\n    for (x = 0; x < this.canvasSize.width; x++) {\r\n      let pointIsDone = this.iterateElement(new Point(x, y), iterCount);\r\n      if (!pointIsDone) stillAlive = true;\r\n    }\r\n\r\n    return stillAlive;\r\n  }\r\n\r\n  // Updates each element by performing a single interation.\r\n  // Returns true if at least one point is not done.\r\n  public doInterationsForAll(iterCount: number): boolean {\r\n\r\n    let stillAlive: boolean = false; // Assume all done until one is found that is not done.\r\n\r\n    let x: number;\r\n    let y: number;\r\n\r\n    for (y = 0; y < this.canvasSize.height; y++) {\r\n      for (x = 0; x < this.canvasSize.width; x++) {\r\n        let pointIsDone = this.iterateElement(new Point(x, y),iterCount);\r\n        if (!pointIsDone) stillAlive = true;\r\n      }\r\n    }\r\n    return stillAlive;\r\n  }\r\n\r\n  //public doInterationsForAll_OLD(iterCount: number): boolean {\r\n  //  var i: number;\r\n  //  let stillAlive: boolean = true;\r\n\r\n  //  for (i = 0; i < iterCount && stillAlive; i++) {\r\n  //    stillAlive = this.iterateAllElements(iterCount);\r\n  //  }\r\n\r\n  //  // Store the value of whether we still alive in our public member for easy access.\r\n  //  this.alive = stillAlive;\r\n\r\n  //  return stillAlive;\r\n  //}\r\n\r\n  //public doInterationsForLine(iterCount: number, y: number): boolean {\r\n  //  return true;\r\n  //}\r\n\r\n\r\n  public getImageData(): ImageData {\r\n    const imageData = new ImageData(this.canvasSize.width, this.canvasSize.height);\r\n    this.updateImageData(imageData);\r\n    return imageData;\r\n  }\r\n\r\n  public getImageDataForLine(y: number): ImageData {\r\n    const imageData = new ImageData(this.canvasSize.width, 1);\r\n    this.updateImageData(imageData);\r\n    return imageData;\r\n  }\r\n\r\n  public updateImageData(imageData: ImageData): void {\r\n\r\n    let data: Uint8ClampedArray = imageData.data;\r\n    if (data.length !== 4 * this.elementCount) {\r\n      console.log(\"The imagedata data does not have the correct number of elements.\");\r\n      return;\r\n    }\r\n\r\n    let i: number = 0;\r\n\r\n    for (; i < this.elementCount; i++) {\r\n      const inTheSet: boolean = this.flags[i] === 0;\r\n      this.setPixelValueBinary(inTheSet, i * 4, data);\r\n    }\r\n  }\r\n\r\n  public updateImageDataForLine(imageData: ImageData, y: number): void {\r\n\r\n    let data: Uint8ClampedArray = imageData.data;\r\n    if (data.length !== 4 * this.canvasSize.width) {\r\n      console.log(\"The imagedata data does not have the correct number of elements.\");\r\n      return;\r\n    }\r\n\r\n    let start: number = this.getLinearIndex(new Point(0, y));\r\n    let end: number = start + this.canvasSize.width;\r\n\r\n    let i: number;\r\n\r\n    for (i = start; i < end; i++) {\r\n      const inTheSet: boolean = this.flags[i] === 0;\r\n      this.setPixelValueBinary(inTheSet, i * 4, data);\r\n    }\r\n  }\r\n  \r\n  private setPixelValueBinary(on: boolean, ptr: number, imageData: Uint8ClampedArray) {\r\n    if (on) {\r\n      // Points within the set are drawn in black.\r\n      imageData[ptr] = 0;\r\n      imageData[ptr + 1] = 0;\r\n      imageData[ptr + 2] = 0;\r\n      imageData[ptr + 3] = 255;\r\n    } else {\r\n      // Points outside the set are drawn in white.\r\n      imageData[ptr] = 255;\r\n      imageData[ptr + 1] = 255;\r\n      imageData[ptr + 2] = 255;\r\n      imageData[ptr + 3] = 255;\r\n    }\r\n  }\r\n\r\n  // Returns a 'regular' linear array of booleans from the flags TypedArray.\r\n  static getFlagData(mapWorkingData: IMapWorkingData): boolean[] {\r\n\r\n    var result: boolean[] = new Array<boolean>(mapWorkingData.elementCount);\r\n\r\n    var i: number;\r\n    for (i = 0; i < result.length; i++) {\r\n      result[i] = mapWorkingData.flags[i] !== 0;\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n","<p>\n  m-map-params works!\n</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-m-map-params',\n  templateUrl: './m-map-params.component.html',\n  styleUrls: ['./m-map-params.component.css']\n})\nexport class MMapParamsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<!-- make the canvas completely fill it's parent. -->\r\n<canvas #myCanvas style=\"position:absolute; width:100%; height:100%;\" ></canvas>\r\n","import { Component, OnInit, AfterViewInit, ElementRef, ViewChild, Input } from '@angular/core';\nimport { Logger } from '../../logger.service';\r\n\r\nimport {\r\n  IPoint, Point, ICanvasSize, CanvasSize,\n  IMapInfo, MapInfo, IMapWorkingData, MapWorkingData\r\n} from '../m-map-common';\n\nimport { MMapService } from '../m-map.service';\r\nimport { Observable } from 'rxjs';\r\n\n@Component({\n  selector: 'app-m-map-display',\n  templateUrl: './m-map.display.component.html',\n  styleUrls: ['./m-map.display.component.css']\n  //,\n  //inputs: ['canvasWidth', 'canvasHeight']\n})\nexport class MMapDisplayComponent implements AfterViewInit, OnInit {\r\n\r\n  @Input('canvas-width') canvasWidth: number;\r\n  @Input('canvas-height') canvasHeight: number;\r\n\r\n  @ViewChild('myCanvas') canvasRef: ElementRef;\n\n  public alive: boolean;\n\n  private viewInitialized: boolean;\n  private canvasSize: ICanvasSize;\n  private workingData: IMapWorkingData;\n  private tot: string = 'default';\n\n  constructor(private logger: Logger, private mService: MMapService) {\n    this.viewInitialized = false;\r\n\n    this.workingData = null;\n\n    //var flags: boolean[] = MapWorkingData.getFlagData(result);\n    //this.rLen = flags.length;\n  }\n\n  doInterations(iterCount: number): void {\n    this.alive = this.workingData.doInterationsForAll(iterCount);\n  }\n\n  draw(): void {\n    let ctx: CanvasRenderingContext2D = this.canvasRef.nativeElement.getContext('2d');\n\n    var w: number = this.canvasRef.nativeElement.width;\n    var h: number = this.canvasRef.nativeElement.height;\n\n    console.log(\"Drawing on canvas with W = \" + w + \" H = \" + h);\n\n    ctx.fillStyle = '#DD0031';\n    ctx.clearRect(0, 0, this.canvasSize.width, this.canvasSize.height);\n\r\n    console.log(\"Got ctx.\");\r\n\r\n    //let imgData: ImageData = ctx.getImageData(0, 0, this.canvasSize.width, this.canvasSize.height);\r\n    //console.log(\"Got image data.\");\r\n\r\n    //this.workingData.updateImageData(imgData);\n    //console.log(\"Updated buffer data.\");\r\n\r\n    let imgData:ImageData = this.workingData.getImageData();\r\n\r\n    ctx.putImageData(imgData, 0, 0);\r\n    console.log(\"Updated canvas.\");\r\n  }\n\n  ngOnInit(): void {\r\n    console.log(\"We are inited.\");\r\n  }\r\n\r\n  ngOnChanges() {\r\n    if (this.viewInitialized) {\r\n      console.log(\"m-map-display.component is handling ngOnChanges -- the view has NOT been initialized.\");\r\n      this.doInterations(1);\r\n      this.draw();\r\n    }\r\n    else {\r\n      console.log(\"m-map-display.component is handling ngOnChanges -- the view has been initialized.\");\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (!this.viewInitialized) {\r\n\r\n      console.log(\"Initializing the canvas size and building the Map Working Data here once because we are finally ready.\");\n\r\n      this.canvasSize = this.initMapDisplay();\r\n\r\n      console.log(\"W = \" + this.canvasSize.width + \" H = \" + this.canvasSize.height);\n\r\n      this.workingData = this.buildWorkingData(this.canvasSize);\r\n\r\n      this.viewInitialized = true;\r\n\r\n      this.progresslvy();\r\n    }\r\n  }\n\n  private initMapDisplay(): ICanvasSize {\n\n    // Set our canvas size = to the number of pixels actually used to display our canvas HTML element.\n    const result: ICanvasSize = new CanvasSize(\n      this.canvasRef.nativeElement.offsetWidth,\n      this.canvasRef.nativeElement.offsetHeight\n    );\n\n    // Set the internal canvas's bitmap equal to the pixels on the screen. (Zoom = 1)\n    this.canvasRef.nativeElement.width = result.width;\n    this.canvasRef.nativeElement.height = result.height;\n\n    return result;\n  }\n\n  private buildWorkingData(canvasSize: ICanvasSize): IMapWorkingData {\n\n    const topRight: IPoint = new Point(1, 1);\n    const bottomLeft: IPoint = new Point(-2, -1);\n\n    const maxInterations = 1000;\n\n    const mi: IMapInfo = new MapInfo(bottomLeft, topRight, maxInterations);\n\n    const workingData = this.mService.createMapWD(canvasSize, mi);\n\n    return workingData;\n  }\n\n  private progresslvy(): void {\n\n    const that = this;\n\n    let iterCount = 100;\r\n    const intId = setInterval(doOneAndDraw, 100);\r\n\r\n    function doOneAndDraw() {\r\n      if (iterCount > 0) {\r\n        iterCount--;\r\n        that.doInterations(1);\r\n        that.draw();\r\n      } else {\r\n        clearInterval(intId);\r\n      }\r\n    }\n  }\n\n  myObservable = Observable.create(function (observer) {\r\n    observer.next('1');\r\n    observer.next('2');\r\n    observer.next('3');\r\n  });\n\n  displayResult() {\n      this.myObservable.subscribe(tot => this.tot = tot);\r\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { MMapService } from './m-map.service';\nimport { MMapDisplayComponent } from './m-map.display/m-map.display.component';\r\nimport { MMapParamsComponent } from './m-map-params/m-map-params.component';\r\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    MMapDisplayComponent,\n    MMapParamsComponent\n  ],\n  exports: [MMapDisplayComponent, MMapParamsComponent],\n  providers: [MMapService]\n})\nexport class MMapModule { }\n","import { Injectable } from '@angular/core';\n\nimport {\r\n  IPoint, Point, ICanvasSize, CanvasSize,\n  IMapInfo, MapInfo, IMapWorkingData, MapWorkingData\r\n} from './m-map-common';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MMapService {\n\n  constructor() { }\n\n  public createMapWD(canvasSize: ICanvasSize, mapInfo: IMapInfo): IMapWorkingData {\n    const result: IMapWorkingData = new MapWorkingData(canvasSize, mapInfo);\n    return result;\n  }\n\n  public createTestMapWD(): IMapWorkingData {\n\n    const maxInterations = 1000;\n    const cs: ICanvasSize = new CanvasSize(100, 100);\n\n    const bottomLeft: IPoint = new Point(-2, -1);\n    const topRight: IPoint = new Point(1, 1);\n\n    const mi: IMapInfo = new MapInfo(bottomLeft, topRight, maxInterations);\n\n    const result: IMapWorkingData = new MapWorkingData(cs, mi);\n    return result;\n\n    \n    //var alive = result.doInterations(10);\n\n    //var flags: boolean[] = MapWorkingData.getFlagData(result);\n\n    //const fIndex:number = flags.findIndex(t => t === false);\n    //{ debugger }\n\n    ////alive = false;\n\n    ////for (var flag:boolean in flags) {\n    ////  if (!flag) {\n    ////    alive = true;\n    ////    break;\n    ////  }\n    ////}\n\n    //console.log(\"The flags has \" + flags.length + \" elements.\");\n\n    //if (alive) {\n    //  console.log(\"There is at least one point that is in the set.\");\n    //}\n    //else {\n    //  console.log(\"There are no points in the set.\");\n    //}\n    //return result;\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n\n"],"sourceRoot":""}